image: papitz/psys-runner:latest

# build:
#   stage: build
#   tags: [Linux]
#   # before_script:
#   #   - apt-get update
#   #   - apt-get install -y build-essential cmake
#   #   - apt-get install -y libopencv-dev
#   #   - apt-get install -y git
#   script:
#     - mkdir build
#     - cmake -S . -B build
#     - cmake --build build
#
#   artifacts:
#     paths:
#       - build/HeatMatrix
#       - build/t_HeatMatrix

ctest:
  stage: test
  script:
    - cd test
    - cmake .
    - cmake --build .
    - ./t_HeatMatrix --gtest_output="xml:unittestResults.xml"
  tags: [Linux]
  artifacts:
    paths:
      - unittestResults.xml
    reports:
      junit: unittestResults.xml
